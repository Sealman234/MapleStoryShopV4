(function(t){function e(e){for(var r,a,o=e[0],i=e[1],s=e[2],d=0,f=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&f.push(c[a][0]),c[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);p&&p(e);while(f.length)f.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var t,e=0;e<u.length;e++){for(var n=u[e],r=!0,a=1;a<n.length;a++){var o=n[a];0!==c[o]&&(r=!1)}r&&(u.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},c={app:0},u=[];function o(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-15c3856f":"b2d95945","chunk-1ef2f8b0":"da6ea663","chunk-3e26c496":"25b642a5","chunk-538d3832":"229b4c6d","chunk-57ddfd5d":"6605401c","chunk-7312007f":"f6efdb82","chunk-75bf17d0":"79724e6d","chunk-76a072c9":"afa34da2","chunk-8663810e":"248eca9e","chunk-b2744184":"bbfcd0c2","chunk-d67e0bfe":"d8a3eb71"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n={"chunk-15c3856f":1,"chunk-1ef2f8b0":1,"chunk-3e26c496":1,"chunk-538d3832":1,"chunk-57ddfd5d":1,"chunk-7312007f":1,"chunk-75bf17d0":1,"chunk-76a072c9":1,"chunk-8663810e":1,"chunk-b2744184":1,"chunk-d67e0bfe":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-15c3856f":"cc9ef106","chunk-1ef2f8b0":"a1e24b10","chunk-3e26c496":"f3e85d5c","chunk-538d3832":"dfa57122","chunk-57ddfd5d":"d9733131","chunk-7312007f":"6cdcfbf7","chunk-75bf17d0":"aeedb01e","chunk-76a072c9":"dadb3f9c","chunk-8663810e":"7d434867","chunk-b2744184":"764a281d","chunk-d67e0bfe":"a7519205"}[t]+".css",c=i.p+r,u=document.getElementsByTagName("link"),o=0;o<u.length;o++){var s=u[o],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===r||d===c))return e()}var f=document.getElementsByTagName("style");for(o=0;o<f.length;o++){s=f[o],d=s.getAttribute("data-href");if(d===r||d===c)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var r=e&&e.target&&e.target.src||c,u=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[t],p.parentNode.removeChild(p),n(u)},p.href=c;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){a[t]=0})));var r=c[t];if(0!==r)if(r)e.push(r[2]);else{var u=new Promise((function(e,n){r=c[t]=[e,n]}));e.push(r[2]=u);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=o(t);var f=new Error;s=function(e){d.onerror=d.onload=null,clearTimeout(p);var n=c[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}c[t]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var f=0;f<s.length;f++)e(s[f]);var p=d;u.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"isLoading",(function(){return q})),n.d(r,"cart",(function(){return H})),n.d(r,"messages",(function(){return B}));var a={};n.r(a),n.d(a,"updateLoading",(function(){return Q})),n.d(a,"getCart",(function(){return z})),n.d(a,"removeCart",(function(){return J})),n.d(a,"updateMessage",(function(){return X})),n.d(a,"removeMessageWithTiming",(function(){return Y})),n.d(a,"removeMessage",(function(){return Z})),n.d(a,"buyNow",(function(){return tt})),n.d(a,"addToCart",(function(){return nt})),n.d(a,"updateQty",(function(){return at})),n.d(a,"updateQtyBySelect",(function(){return ut})),n.d(a,"addCouponCode",(function(){return it}));var c={};n.r(c),n.d(c,"LOADING",(function(){return dt})),n.d(c,"CART",(function(){return ft})),n.d(c,"MESSAGES",(function(){return pt})),n.d(c,"REMOVEMESSAGEWITHTIMIMG",(function(){return mt})),n.d(c,"REMOVEMESSAGE",(function(){return lt}));var u={};n.r(u),n.d(u,"products",(function(){return bt})),n.d(u,"allProducts",(function(){return Ot})),n.d(u,"pagination",(function(){return vt}));var o={};n.r(o),n.d(o,"getProducts",(function(){return kt})),n.d(o,"getAllProducts",(function(){return yt}));var i={};n.r(i),n.d(i,"PRODUCTS",(function(){return Lt})),n.d(i,"PAGINATION",(function(){return Et})),n.d(i,"ALLPRODUCTS",(function(){return Pt}));n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("159b"),n("b64b"),n("4de4"),n("b0c0");var s=n("2b0e"),d=n("bc3a"),f=n.n(d),p=n("2106"),m=n.n(p),l=n("9062"),h=n.n(l),g=(n("e40d"),n("4989"),n("7bb1")),b=n("60d4"),O=n("4c93"),v=n("7212"),k=n.n(v),A=n("6d3b"),y=n("8343"),w=n("5dc8"),L=n("d17a"),E=(n("bbe3"),n("ce50"),n("2f62")),P=(n("a9e3"),n("ac1f"),n("5319"),n("b680"),function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,n){var r=e&&"."!==t&&(n.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return r})))}),j=function(t){var e=new Date(1e3*t);return e.toLocaleDateString()},I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[n("template",{slot:"default"},[n("div",{staticClass:"loading-image"})])],2),n("router-view")],1)},N=[],D=n("5530"),C={name:"App",computed:Object(D["a"])({},Object(E["d"])("global",["isLoading"]))},M=C,T=(n("5c0b"),n("2877")),x=Object(T["a"])(M,I,N,!1,null,null,null),G=x.exports,S=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f"));s["default"].use(S["a"]);var R=[{path:"*",redirect:"/"},{name:"Dashboard",path:"/admin",component:function(){return n.e("chunk-b2744184").then(n.bind(null,"ca24"))},children:[{name:"Products",path:"products",component:function(){return n.e("chunk-3e26c496").then(n.bind(null,"d416"))},meta:{requiresAuth:!0}},{name:"Coupons",path:"coupons",component:function(){return n.e("chunk-8663810e").then(n.bind(null,"d0a3"))},meta:{requiresAuth:!0}},{name:"Orders",path:"orders",component:function(){return n.e("chunk-76a072c9").then(n.bind(null,"5651"))},meta:{requiresAuth:!0}}]},{name:"Base",path:"/",redirect:"/",component:function(){return n.e("chunk-15c3856f").then(n.bind(null,"bd0c"))},children:[{name:"Index",path:"/",component:function(){return n.e("chunk-1ef2f8b0").then(n.bind(null,"d504"))}},{name:"Category",path:"category",component:function(){return n.e("chunk-57ddfd5d").then(n.bind(null,"4886"))}},{name:"Detail",path:"detail/:id",component:function(){return n.e("chunk-d67e0bfe").then(n.bind(null,"c84b"))}},{name:"CustomerOrder",path:"customerOrder",component:function(){return n.e("chunk-75bf17d0").then(n.bind(null,"eb70"))}},{name:"CustomerCheckout",path:"customerCheckout/:orderId",component:function(){return n.e("chunk-7312007f").then(n.bind(null,"a159"))}},{name:"Login",path:"login",component:function(){return n.e("chunk-538d3832").then(n.bind(null,"a55b"))}}]}],_=new S["a"]({linkActiveClass:"active",scrollBehavior:function(t,e,n){return n||{x:0,y:0}},routes:R}),U=_,V=function(){return{isLoading:!1,cart:{carts:[]},messages:[]}};function q(t){return t.isLoading}function H(t){return t.cart}function B(t){return t.messages}var $=n("1da1"),W=(n("96cf"),n("d722"));function Q(t,e){t.commit("LOADING",e)}function z(t){return F.apply(this,arguments)}function F(){return F=Object($["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit("LOADING",!0),t.next=3,Object(W["o"])();case 3:n=t.sent,e.commit("CART",n.data.data),e.commit("LOADING",!1);case 6:case"end":return t.stop()}}),t)}))),F.apply(this,arguments)}function J(t,e){return K.apply(this,arguments)}function K(){return K=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit("LOADING",!0),t.next=3,Object(W["u"])(n);case 3:r=t.sent,e.commit("LOADING",!1),r.data.success?(e.dispatch("updateMessage",{message:"產品刪除成功",status:"success"}),e.dispatch("getCart")):e.dispatch("updateMessage",{message:"Oops！出現錯誤了！",status:"danger"});case 6:case"end":return t.stop()}}),t)}))),K.apply(this,arguments)}function X(t,e){var n=e.message,r=e.status,a=Math.floor(new Date/1e3);t.commit("MESSAGES",{message:n,status:r,timestamp:a}),t.dispatch("removeMessageWithTiming",a)}function Y(t,e){setTimeout((function(){t.commit("REMOVEMESSAGEWITHTIMIMG",e)}),5e3)}function Z(t,e){t.commit("REMOVEMESSAGE",e)}function tt(t,e){return et.apply(this,arguments)}function et(){return et=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,a,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=n.id,a=n.qty,e.commit("LOADING",!0),c={data:{product_id:r,qty:a}},t.next=5,Object(W["a"])(c);case 5:u=t.sent,"已加入購物車"===u.data.message?(e.dispatch("updateMessage",{message:"產品加入購物車成功",status:"success"}),e.dispatch("getCart"),e.commit("LOADING",!1),U.push("/customerOrder")):(u.data.message,e.commit("LOADING",!1),e.dispatch("updateMessage",{message:"Oops！出現錯誤了！",status:"danger"}));case 7:case"end":return t.stop()}}),t)}))),et.apply(this,arguments)}function nt(t,e){return rt.apply(this,arguments)}function rt(){return rt=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,a,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=n.id,a=n.qty,e.commit("LOADING",!0),c={data:{product_id:r,qty:a}},t.next=5,Object(W["a"])(c);case 5:u=t.sent,"已加入購物車"===u.data.message?(e.dispatch("updateMessage",{message:"產品加入購物車成功",status:"success"}),e.dispatch("getCart"),e.commit("LOADING",!1)):(u.data.message,e.commit("LOADING",!1),e.dispatch("updateMessage",{message:"Oops！出現錯誤了！",status:"danger"}));case 7:case"end":return t.stop()}}),t)}))),rt.apply(this,arguments)}function at(t,e){return ct.apply(this,arguments)}function ct(){return ct=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,a,c,u,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=n.cid,a=n.pid,c=n.newQty,!(c<=0||c>10)){t.next=3;break}return t.abrupt("return");case 3:return e.commit("LOADING",!0),u={data:{product_id:a,qty:c}},t.next=7,Object(W["a"])(u);case 7:return t.next=9,Object(W["u"])(r);case 9:o=t.sent,o.data.success?(e.dispatch("updateMessage",{message:"產品數量已更新",status:"success"}),e.dispatch("getCart"),e.commit("LOADING",!1)):(e.dispatch("updateMessage",{message:"Oops！出現錯誤了！",status:"danger"}),e.commit("LOADING",!1));case 11:case"end":return t.stop()}}),t)}))),ct.apply(this,arguments)}function ut(t,e){return ot.apply(this,arguments)}function ot(){return ot=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,a,c,u,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=n.cid,a=n.pid,c=n.newQty,!(c<=0||c>10)){t.next=3;break}return t.abrupt("return");case 3:return e.commit("LOADING",!0),u={data:{product_id:a,qty:c}},t.next=7,Object(W["a"])(u);case 7:return t.next=9,Object(W["u"])(r);case 9:o=t.sent,o.data.success?(e.dispatch("updateMessage",{message:"產品數量已更新",status:"success"}),e.dispatch("getCart"),e.commit("LOADING",!1)):(e.dispatch("updateMessage",{message:"Oops！出現錯誤了！",status:"danger"}),e.commit("LOADING",!1));case 11:case"end":return t.stop()}}),t)}))),ot.apply(this,arguments)}function it(t,e){return st.apply(this,arguments)}function st(){return st=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit("LOADING",!0),r={data:{code:n}},t.next=4,Object(W["b"])(r);case 4:a=t.sent,a.data.success?(e.commit("LOADING",!1),e.dispatch("updateMessage",{message:"優惠碼套用成功",status:"success"}),e.dispatch("getCart")):"找不到優惠券!"===a.data.message?(e.commit("LOADING",!1),e.dispatch("updateMessage",{message:"沒有這張優惠卷",status:"danger"})):"優惠券無法無法使用或已過期"===a.data.message&&(e.commit("LOADING",!1),e.dispatch("updateMessage",{message:"優惠券無法無法使用或已過期",status:"danger"}));case 6:case"end":return t.stop()}}),t)}))),st.apply(this,arguments)}n("a434");function dt(t,e){t.isLoading=e}function ft(t,e){t.cart=e}function pt(t,e){var n=e.message,r=e.status,a=e.timestamp;t.messages.push({message:n,status:r,timestamp:a})}function mt(t,e){t.messages.forEach((function(n,r){n.timestamp===e&&t.messages.splice(r,1)}))}function lt(t,e){t.messages.splice(e,1)}var ht={namespaced:!0,state:V,getters:r,actions:a,mutations:c},gt=function(){return{products:[],pagination:{},allProducts:[]}};function bt(t){return t.products}function Ot(t){return t.allProducts}function vt(t){return t.pagination}function kt(t){return At.apply(this,arguments)}function At(){return At=Object($["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit("global/LOADING",!0,{root:!0}),t.next=3,Object(W["n"])();case 3:n=t.sent,e.commit("PRODUCTS",n.data.products),e.commit("global/LOADING",!1,{root:!0});case 6:case"end":return t.stop()}}),t)}))),At.apply(this,arguments)}function yt(t,e){return wt.apply(this,arguments)}function wt(){return wt=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit("global/LOADING",!0,{root:!0}),t.next=3,Object(W["q"])(n);case 3:r=t.sent,e.commit("ALLPRODUCTS",r.data.products),e.commit("PAGINATION",r.data.pagination),e.commit("global/LOADING",!1,{root:!0});case 7:case"end":return t.stop()}}),t)}))),wt.apply(this,arguments)}function Lt(t,e){t.products=e}function Et(t,e){t.pagination=e}function Pt(t,e){t.allProducts=e}var jt={namespaced:!0,state:gt,getters:u,actions:o,mutations:i};s["default"].use(E["a"]);var It=function(){var t=new E["a"].Store({modules:{global:ht,products:jt},strict:Object({NODE_ENV:"production",VUE_APP_APIPATH:"https://vue-course-api.hexschool.io",VUE_APP_CUSTOMPATH:"sealman",BASE_URL:""}).DEV});return t};s["default"].config.productionTip=!1,s["default"].use(m.a,f.a),f.a.defaults.withCredentials=!0,s["default"].component("Loading",h.a),Object.keys(O).forEach((function(t){Object(g["d"])(t,O[t])})),Object(g["e"])("zh_TW",b),s["default"].component("ValidationObserver",g["a"]),s["default"].component("ValidationProvider",g["b"]),Object(g["c"])({classes:{valid:"is-valid",invalid:"is-invalid"}}),s["default"].use(k.a),A["a"].use([y["a"],w["a"],L["a"]]),s["default"].filter("currency",P),s["default"].filter("date",j),s["default"].use(E["a"]),new s["default"]({router:U,store:It,render:function(t){return t(G)}}).$mount("#app"),U.beforeEach((function(t,e,n){t.meta.requiresAuth?Object(W["w"])().then((function(e){"Login"===t.name||e.data.success?n():n({name:"Login"})})):n()}))},"5c0b":function(t,e,n){"use strict";n("9c0c")},"9c0c":function(t,e,n){},ce50:function(t,e,n){},d722:function(t,e,n){"use strict";n.d(e,"v",(function(){return p})),n.d(e,"s",(function(){return m})),n.d(e,"w",(function(){return l})),n.d(e,"o",(function(){return h})),n.d(e,"u",(function(){return g})),n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return O})),n.d(e,"n",(function(){return v})),n.d(e,"q",(function(){return k})),n.d(e,"r",(function(){return A})),n.d(e,"m",(function(){return y})),n.d(e,"p",(function(){return w})),n.d(e,"t",(function(){return L})),n.d(e,"i",(function(){return E})),n.d(e,"d",(function(){return P})),n.d(e,"k",(function(){return j})),n.d(e,"f",(function(){return I})),n.d(e,"g",(function(){return N})),n.d(e,"c",(function(){return D})),n.d(e,"j",(function(){return C})),n.d(e,"e",(function(){return M})),n.d(e,"h",(function(){return T})),n.d(e,"l",(function(){return x}));n("ac1f"),n("5319"),n("99af");var r=n("bc3a"),a=n.n(r),c=Object({NODE_ENV:"production",VUE_APP_APIPATH:"https://vue-course-api.hexschool.io",VUE_APP_CUSTOMPATH:"sealman",BASE_URL:""}),u=c.VUE_APP_APIPATH,o=c.VUE_APP_CUSTOMPATH,i=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");a.a.defaults.headers.common.Authorization=i;var s=a.a.create({baseURL:"".concat(u,"/api/").concat(o),headers:{"Content-Type":"application/json"}}),d=a.a.create({baseURL:"".concat(u),headers:{"Content-Type":"application/json"}}),f=a.a.create({baseURL:"".concat(u,"/api/").concat(o),headers:{"Content-Type":"multipart/form-data"}}),p=function(t){return d.post("/admin/signin",t)},m=function(){return d.post("/logout")},l=function(){return d.post("/api/user/check")},h=function(){return s.get("/cart")},g=function(t){return s.delete("/cart/".concat(t))},b=function(t){return s.post("/cart",t)},O=function(t){return s.post("/coupon",t)},v=function(){return s.get("/products/all")},k=function(t){return s.get("/products?page=".concat(t))},A=function(t){return s.get("/product/".concat(t))},y=function(t){return s.post("/order",t)},w=function(t){return s.get("/order/".concat(t))},L=function(t){return s.post("/pay/".concat(t))},E=function(t){return s.get("/admin/products?page=".concat(t))},P=function(t){return s.post("/admin/product",t)},j=function(t,e){return s.put("/admin/product/".concat(t),e)},I=function(t){return s.delete("/admin/product/".concat(t))},N=function(t){return s.get("/admin/coupons?page=".concat(t))},D=function(t){return s.post("/admin/coupon",t)},C=function(t,e){return s.put("/admin/coupon/".concat(t),e)},M=function(t){return s.delete("/admin/coupon/".concat(t))},T=function(t){return s.get("/admin/orders?page=".concat(t))},x=function(t){return f.post("/admin/upload",t)}}});
//# sourceMappingURL=app.c4d6aac2.js.map