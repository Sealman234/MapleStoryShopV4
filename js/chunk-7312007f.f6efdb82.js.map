{"version":3,"sources":["webpack:///./src/views/CustomerCheckout.vue?7316","webpack:///./src/views/CustomerCheckout.vue?77e6","webpack:///src/views/CustomerCheckout.vue","webpack:///./src/views/CustomerCheckout.vue?13d6","webpack:///./src/views/CustomerCheckout.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","order","is_paid","_v","_e","on","$event","preventDefault","payOrder","_m","_l","item","key","id","_s","product","title","qty","unit","_f","final_total","attrs","total","user","email","name","tel","address","staticRenderFns","data","orderId","step","created","vm","$route","params","getOrder","methods","component"],"mappings":"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","file":"js/chunk-7312007f.f6efdb82.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerCheckout.vue?vue&type=style&index=0&id=4251b534&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container conform-cart py-5\"},[(!_vm.order.is_paid)?_c('div',{staticClass:\"text-center\"},[_c('h2',{staticClass:\"font-weight-bold mb-4 pb-2\"},[_vm._v(\" 確認訂單 \")])]):_c('div',{staticClass:\"text-center\"},[_c('h2',{staticClass:\"font-weight-bold mb-3 pb-2\"},[_vm._v(\" 付款完成 \")]),_c('p',{staticClass:\"patronage mb-3\"},[_vm._v(\" 感謝您的購買，我們將會盡快出貨！ \")])]),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-lg-10\"},[(_vm.order.is_paid)?_c('div',{staticClass:\"banner\"}):_vm._e(),_c('form',{staticClass:\"mb-3\",on:{\"submit\":function($event){$event.preventDefault();return _vm.payOrder($event)}}},[(!_vm.order.is_paid)?_c('table',{staticClass:\"table border-bottom mb-5\"},[_vm._m(0),_c('tbody',_vm._l((_vm.order.products),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \")]),_c('td',{staticClass:\"align-middle\"},[_vm._v(\" \"+_vm._s(item.qty)+\"/\"+_vm._s(item.product.unit)+\" \")]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.final_total))+\" \")])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"2\"}},[_vm._v(\" 總計 \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.order.total))+\" \")])])])]):_vm._e(),(!_vm.order.is_paid)?_c('div',{staticClass:\"text-center\"},[_c('h2',{staticClass:\"font-weight-bold mb-4 pb-2\"},[_vm._v(\" 訂單資訊 \")])]):_vm._e(),_c('table',{staticClass:\"table border-bottom\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(\"Email\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('th',[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('th',[_vm._v(\"收件人電話\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('th',[_vm._v(\"收件人地址\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('th',[_vm._v(\"付款狀態\")]),_c('td',[(!_vm.order.is_paid)?_c('span',[_vm._v(\"尚未付款\")]):_c('span',{staticClass:\"text-success\"},[_vm._v(\"付款完成\")])])])])]),(_vm.order.is_paid === false)?_c('div',{staticClass:\"text-right\"},[_c('router-link',{staticClass:\"btn btn-outline-maple\",attrs:{\"to\":\"/\"}},[_vm._v(\" 取消購買 \")]),_c('button',{staticClass:\"btn ml-2 btn-maple\"},[_vm._v(\" 確認付款 \")])],1):_c('div',{staticClass:\"text-right\"},[_c('router-link',{staticClass:\"btn btn-outline-maple\",attrs:{\"to\":\"/\"}},[_vm._v(\" 回到首頁 \")]),_c('router-link',{staticClass:\"btn btn-maple ml-2 ml-md-2\",attrs:{\"to\":\"/category\"}},[_vm._v(\" 繼續逛逛 \")])],1)])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"thead-light\"},[_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\" 商品名稱 \")]),_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\" 數量 \")]),_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\" 單價 \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"container conform-cart py-5\">\n      <div\n        v-if=\"!order.is_paid\"\n        class=\"text-center\"\n      >\n        <h2 class=\"font-weight-bold mb-4 pb-2\">\n          確認訂單\n        </h2>\n      </div>\n      <div\n        v-else\n        class=\"text-center\"\n      >\n        <h2 class=\"font-weight-bold mb-3 pb-2\">\n          付款完成\n        </h2>\n        <p class=\"patronage mb-3\">\n          感謝您的購買，我們將會盡快出貨！\n        </p>\n      </div>\n      <div class=\"row justify-content-center\">\n        <div class=\"col-lg-10\">\n          <div\n            v-if=\"order.is_paid\"\n            class=\"banner\"\n          />\n          <form\n            class=\"mb-3\"\n            @submit.prevent=\"payOrder\"\n          >\n            <table\n              v-if=\"!order.is_paid\"\n              class=\"table border-bottom mb-5\"\n            >\n              <thead class=\"thead-light\">\n                <th class=\"text-nowrap\">\n                  商品名稱\n                </th>\n                <th class=\"text-nowrap\">\n                  數量\n                </th>\n                <th class=\"text-nowrap\">\n                  單價\n                </th>\n              </thead>\n              <tbody>\n                <tr\n                  v-for=\"item in order.products\"\n                  :key=\"item.id\"\n                >\n                  <td class=\"align-middle\">\n                    {{ item.product.title }}\n                  </td>\n                  <td class=\"align-middle\">\n                    {{ item.qty }}/{{ item.product.unit }}\n                  </td>\n                  <td class=\"align-middle text-right\">\n                    {{ item.final_total | currency }}\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td\n                    colspan=\"2\"\n                    class=\"text-right\"\n                  >\n                    總計\n                  </td>\n                  <td class=\"text-right\">\n                    {{ order.total | currency }}\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n            <div\n              v-if=\"!order.is_paid\"\n              class=\"text-center\"\n            >\n              <h2 class=\"font-weight-bold mb-4 pb-2\">\n                訂單資訊\n              </h2>\n            </div>\n            <table class=\"table border-bottom\">\n              <tbody>\n                <tr>\n                  <th>Email</th>\n                  <td>{{ order.user.email }}</td>\n                </tr>\n                <tr>\n                  <th>姓名</th>\n                  <td>{{ order.user.name }}</td>\n                </tr>\n                <tr>\n                  <th>收件人電話</th>\n                  <td>{{ order.user.tel }}</td>\n                </tr>\n                <tr>\n                  <th>收件人地址</th>\n                  <td>{{ order.user.address }}</td>\n                </tr>\n                <tr>\n                  <th>付款狀態</th>\n                  <td>\n                    <span v-if=\"!order.is_paid\">尚未付款</span>\n                    <span\n                      v-else\n                      class=\"text-success\"\n                    >付款完成</span>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <div\n              v-if=\"order.is_paid === false\"\n              class=\"text-right\"\n            >\n              <router-link\n                to=\"/\"\n                class=\"btn btn-outline-maple\"\n              >\n                取消購買\n              </router-link>\n              <button class=\"btn ml-2 btn-maple\">\n                確認付款\n              </button>\n            </div>\n            <div\n              v-else\n              class=\"text-right\"\n            >\n              <router-link\n                to=\"/\"\n                class=\"btn btn-outline-maple\"\n              >\n                回到首頁\n              </router-link>\n              <router-link\n                to=\"/category\"\n                class=\"btn btn-maple ml-2 ml-md-2\"\n              >\n                繼續逛逛\n              </router-link>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { apiGetOrder, apiPayOrder } from '@/api';\n\nexport default {\n  name: 'CustomerCheckout',\n  data() {\n    return {\n      orderId: '',\n      order: {\n        user: {},\n      },\n      step: 1,\n    };\n  },\n  created() {\n    const vm = this;\n    vm.orderId = vm.$route.params.orderId;\n    vm.getOrder();\n  },\n  methods: {\n    async getOrder() {\n      const vm = this;\n      vm.$store.dispatch('global/updateLoading', true);\n      const response = await apiGetOrder(vm.orderId);\n      vm.order = response.data.order;\n      vm.$store.dispatch('global/updateLoading', false);\n    },\n    async payOrder() {\n      const vm = this;\n      vm.$store.dispatch('global/updateLoading', true);\n      const response = await apiPayOrder(vm.orderId);\n      if (response.data.success) {\n        vm.getOrder();\n        vm.$store.dispatch('global/updateMessage', {\n          message: '已完成付款！',\n          status: 'success',\n        });\n      }\n      vm.$store.dispatch('global/updateLoading', false);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.conform-cart {\n  h2 {\n    display: inline-block;\n    font-weight: 600;\n    border-bottom: 3px solid #c1170c;\n  }\n  p.patronage {\n    @media (min-width: 321px) {\n      font-size: 1.2rem;\n    }\n    @media (min-width: 576px) {\n      font-size: 1.5rem;\n    }\n  }\n}\n\n.banner {\n  background-image: url(../assets/images/Banner/thanks.jpg);\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: left center;\n  height: 300px;\n  @media (min-width: 992px) {\n    height: 500px;\n    background-position: center center;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerCheckout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerCheckout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerCheckout.vue?vue&type=template&id=4251b534&scoped=true&\"\nimport script from \"./CustomerCheckout.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerCheckout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomerCheckout.vue?vue&type=style&index=0&id=4251b534&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4251b534\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}