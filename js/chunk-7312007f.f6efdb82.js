(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7312007f"],{"09ec":function(t,e,s){"use strict";s("d940")},a159:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container conform-cart py-5"},[t.order.is_paid?s("div",{staticClass:"text-center"},[s("h2",{staticClass:"font-weight-bold mb-3 pb-2"},[t._v(" 付款完成 ")]),s("p",{staticClass:"patronage mb-3"},[t._v(" 感謝您的購買，我們將會盡快出貨！ ")])]):s("div",{staticClass:"text-center"},[s("h2",{staticClass:"font-weight-bold mb-4 pb-2"},[t._v(" 確認訂單 ")])]),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-lg-10"},[t.order.is_paid?s("div",{staticClass:"banner"}):t._e(),s("form",{staticClass:"mb-3",on:{submit:function(e){return e.preventDefault(),t.payOrder(e)}}},[t.order.is_paid?t._e():s("table",{staticClass:"table border-bottom mb-5"},[t._m(0),s("tbody",t._l(t.order.products,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"align-middle"},[t._v(" "+t._s(e.product.title)+" ")]),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(e.qty)+"/"+t._s(e.product.unit)+" ")]),s("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(e.final_total))+" ")])])})),0),s("tfoot",[s("tr",[s("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v(" 總計 ")]),s("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("currency")(t.order.total))+" ")])])])]),t.order.is_paid?t._e():s("div",{staticClass:"text-center"},[s("h2",{staticClass:"font-weight-bold mb-4 pb-2"},[t._v(" 訂單資訊 ")])]),s("table",{staticClass:"table border-bottom"},[s("tbody",[s("tr",[s("th",[t._v("Email")]),s("td",[t._v(t._s(t.order.user.email))])]),s("tr",[s("th",[t._v("姓名")]),s("td",[t._v(t._s(t.order.user.name))])]),s("tr",[s("th",[t._v("收件人電話")]),s("td",[t._v(t._s(t.order.user.tel))])]),s("tr",[s("th",[t._v("收件人地址")]),s("td",[t._v(t._s(t.order.user.address))])]),s("tr",[s("th",[t._v("付款狀態")]),s("td",[t.order.is_paid?s("span",{staticClass:"text-success"},[t._v("付款完成")]):s("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?s("div",{staticClass:"text-right"},[s("router-link",{staticClass:"btn btn-outline-maple",attrs:{to:"/"}},[t._v(" 取消購買 ")]),s("button",{staticClass:"btn ml-2 btn-maple"},[t._v(" 確認付款 ")])],1):s("div",{staticClass:"text-right"},[s("router-link",{staticClass:"btn btn-outline-maple",attrs:{to:"/"}},[t._v(" 回到首頁 ")]),s("router-link",{staticClass:"btn btn-maple ml-2 ml-md-2",attrs:{to:"/category"}},[t._v(" 繼續逛逛 ")])],1)])])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-light"},[s("th",{staticClass:"text-nowrap"},[t._v(" 商品名稱 ")]),s("th",{staticClass:"text-nowrap"},[t._v(" 數量 ")]),s("th",{staticClass:"text-nowrap"},[t._v(" 單價 ")])])}],i=s("1da1"),n=(s("96cf"),s("d722")),o={name:"CustomerCheckout",data:function(){return{orderId:"",order:{user:{}},step:1}},created:function(){var t=this;t.orderId=t.$route.params.orderId,t.getOrder()},methods:{getOrder:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t,s.$store.dispatch("global/updateLoading",!0),e.next=4,Object(n["p"])(s.orderId);case 4:r=e.sent,s.order=r.data.order,s.$store.dispatch("global/updateLoading",!1);case 7:case"end":return e.stop()}}),e)})))()},payOrder:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t,s.$store.dispatch("global/updateLoading",!0),e.next=4,Object(n["t"])(s.orderId);case 4:r=e.sent,r.data.success&&(s.getOrder(),s.$store.dispatch("global/updateMessage",{message:"已完成付款！",status:"success"})),s.$store.dispatch("global/updateLoading",!1);case 7:case"end":return e.stop()}}),e)})))()}}},d=o,c=(s("09ec"),s("2877")),l=Object(c["a"])(d,r,a,!1,null,"4251b534",null);e["default"]=l.exports},d940:function(t,e,s){}}]);
//# sourceMappingURL=chunk-7312007f.f6efdb82.js.map