{"version":3,"sources":["webpack:///./src/views/CustomerOrder.vue?65ae","webpack:///./src/views/CustomerOrder.vue?c0b3","webpack:///src/views/CustomerOrder.vue","webpack:///./src/views/CustomerOrder.vue?d7aa","webpack:///./src/views/CustomerOrder.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","cart","carts","length","_l","item","key","id","attrs","on","$event","removeCartItem","_v","_s","product","title","_e","minusQty","qty","updateQtyBySelect","number","domProps","addQty","class","coupon","_f","final_total","total","directives","name","rawName","value","expression","target","composing","coupon_code","addCouponCode","scopedSlots","_u","fn","ref","invalid","preventDefault","createOrder","errors","classes","form","user","isDisabled","$set","staticRenderFns","data","email","tel","address","message","computed","watch","vm","created","getCart","methods","$store","dispatch","component"],"mappings":"kHAAA,W,kECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAA4B,IAA1BN,EAAIQ,KAAKC,MAAMC,OAAcN,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAG,GAAGH,EAAG,QAAQJ,EAAIW,GAAIX,EAAIQ,KAAU,OAAE,SAASI,GAAM,OAAOR,EAAG,KAAK,CAACS,IAAID,EAAKE,IAAI,CAACV,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,+BAA+BS,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,eAAeN,EAAKE,OAAO,CAACV,EAAG,IAAI,CAACE,YAAY,yBAAyBF,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACN,EAAImB,GAAG,IAAInB,EAAIoB,GAAGR,EAAKS,QAAQC,OAAO,KAAMV,EAAW,OAAER,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACN,EAAImB,GAAG,cAAcnB,EAAIuB,OAAOnB,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAACE,YAAY,yDAAyDU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIwB,SAASZ,EAAKE,GAAIF,EAAKS,QAAQP,GAAIF,EAAKa,QAAQ,CAACrB,EAAG,IAAI,CAACE,YAAY,mBAAmBF,EAAG,SAAS,CAACE,YAAY,kDAAkDS,MAAM,CAAC,GAAK,aAAaC,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOjB,EAAI0B,kBAAkBd,EAAKE,GAAIF,EAAKS,QAAQP,GAAIG,MAAW,CAACb,EAAG,SAAS,CAACW,MAAM,CAAC,SAAW,GAAG,SAAW,KAAK,CAACf,EAAImB,GAAG,IAAInB,EAAIoB,GAAGR,EAAKa,KAAK,OAAOzB,EAAIW,GAAG,IAAK,SAASgB,GAAQ,OAAOvB,EAAG,SAAS,CAACS,IAAIc,EAAOC,SAAS,CAAC,MAAQD,IAAS,CAAC3B,EAAImB,GAAG,IAAInB,EAAIoB,GAAGO,GAAQ,WAAU,GAAGvB,EAAG,SAAS,CAACE,YAAY,yDAAyDU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAI6B,OAAOjB,EAAKE,GAAIF,EAAKS,QAAQP,GAAIF,EAAKa,QAAQ,CAACrB,EAAG,IAAI,CAACE,YAAY,sBAAsBF,EAAG,KAAK,CAACE,YAAY,0BAA0BwB,MAAM,CAAE,eAAgBlB,EAAKmB,SAAU,CAAC/B,EAAImB,GAAG,IAAInB,EAAIoB,GAAGpB,EAAIgC,GAAG,WAAPhC,CAAmBY,EAAKqB,cAAc,YAAW,GAAG7B,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,aAAaS,MAAM,CAAC,QAAU,MAAM,CAACf,EAAImB,GAAG,WAAWf,EAAG,KAAK,CAACE,YAAY,cAAc,CAACN,EAAImB,GAAG,IAAInB,EAAIoB,GAAGpB,EAAIgC,GAAG,WAAPhC,CAAmBA,EAAIQ,KAAK0B,QAAQ,SAAUlC,EAAIQ,KAAK0B,QAAUlC,EAAIQ,KAAKyB,YAAa7B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,0BAA0BS,MAAM,CAAC,QAAU,MAAM,CAACf,EAAImB,GAAG,WAAWf,EAAG,KAAK,CAACE,YAAY,2BAA2B,CAACN,EAAImB,GAAG,IAAInB,EAAIoB,GAAGpB,EAAIgC,GAAG,WAAPhC,CAAmBA,EAAIQ,KAAKyB,cAAc,SAASjC,EAAIuB,WAAWnB,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,QAAQ,CAAC+B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOtC,EAAe,YAAEuC,WAAW,gBAAgBjC,YAAY,eAAeS,MAAM,CAAC,KAAO,OAAO,YAAc,UAAUa,SAAS,CAAC,MAAS5B,EAAe,aAAGgB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOuB,OAAOC,YAAqBzC,EAAI0C,YAAYzB,EAAOuB,OAAOF,WAAUlC,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,wBAAwBS,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQhB,EAAI2C,gBAAgB,CAAC3C,EAAImB,GAAG,mBAAmBf,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACN,EAAImB,GAAG,uBAAuBf,EAAG,cAAc,CAACE,YAAY,kCAAkCS,MAAM,CAAC,GAAK,cAAc,CAACf,EAAImB,GAAG,aAAa,SAASf,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,qBAAqB,CAACE,YAAY,YAAYsC,YAAY5C,EAAI6C,GAAG,CAAC,CAAChC,IAAI,UAAUiC,GAAG,SAASC,GACz1G,IAAIC,EAAUD,EAAIC,QAClB,MAAO,CAAC5C,EAAG,OAAO,CAACY,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOgC,iBAAwBjD,EAAIkD,YAAYjC,MAAW,CAACb,EAAG,qBAAqB,CAACW,MAAM,CAAC,MAAQ,kBAAkB6B,YAAY5C,EAAI6C,GAAG,CAAC,CAAChC,IAAI,UAAUiC,GAAG,SAASC,GACrN,IAAII,EAASJ,EAAII,OACbC,EAAUL,EAAIK,QAClB,MAAO,CAAChD,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACW,MAAM,CAAC,IAAM,cAAc,CAACX,EAAG,IAAI,CAACE,YAAY,oBAAoBN,EAAImB,GAAG,iBAAiBf,EAAG,QAAQ,CAAC+B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOtC,EAAIqD,KAAKC,KAAU,MAAEf,WAAW,oBAAoBjC,YAAY,eAAewB,MAAMsB,EAAQrC,MAAM,CAAC,GAAK,YAAY,KAAO,SAAS,KAAO,QAAQ,YAAc,YAAY,SAAWf,EAAIuD,YAAY3B,SAAS,CAAC,MAAS5B,EAAIqD,KAAKC,KAAU,OAAGtC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOuB,OAAOC,WAAqBzC,EAAIwD,KAAKxD,EAAIqD,KAAKC,KAAM,QAASrC,EAAOuB,OAAOF,WAAWlC,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACN,EAAImB,GAAGnB,EAAIoB,GAAG+B,EAAO,aAAa,MAAK,KAAQ/C,EAAG,qBAAqB,CAACW,MAAM,CAAC,MAAQ,YAAY6B,YAAY5C,EAAI6C,GAAG,CAAC,CAAChC,IAAI,UAAUiC,GAAG,SAASC,GACjwB,IAAII,EAASJ,EAAII,OACbC,EAAUL,EAAIK,QAClB,MAAO,CAAChD,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACW,MAAM,CAAC,IAAM,aAAa,CAACX,EAAG,IAAI,CAACE,YAAY,gBAAgBN,EAAImB,GAAG,iBAAiBf,EAAG,QAAQ,CAAC+B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOtC,EAAIqD,KAAKC,KAAS,KAAEf,WAAW,mBAAmBjC,YAAY,eAAewB,MAAMsB,EAAQrC,MAAM,CAAC,GAAK,WAAW,KAAO,OAAO,KAAO,OAAO,YAAc,OAAO,SAAWf,EAAIuD,YAAY3B,SAAS,CAAC,MAAS5B,EAAIqD,KAAKC,KAAS,MAAGtC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOuB,OAAOC,WAAqBzC,EAAIwD,KAAKxD,EAAIqD,KAAKC,KAAM,OAAQrC,EAAOuB,OAAOF,WAAWlC,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACN,EAAImB,GAAGnB,EAAIoB,GAAG+B,EAAO,aAAa,MAAK,KAAQ/C,EAAG,qBAAqB,CAACE,YAAY,aAAaS,MAAM,CAAC,MAAQ,oBAAoB6B,YAAY5C,EAAI6C,GAAG,CAAC,CAAChC,IAAI,UAAUiC,GAAG,SAASC,GAChxB,IAAII,EAASJ,EAAII,OACbC,EAAUL,EAAIK,QAClB,MAAO,CAAChD,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACW,MAAM,CAAC,IAAM,YAAY,CAACX,EAAG,IAAI,CAACE,YAAY,iBAAiBN,EAAImB,GAAG,iBAAiBf,EAAG,QAAQ,CAAC+B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOtC,EAAIqD,KAAKC,KAAQ,IAAEf,WAAW,kBAAkBjC,YAAY,eAAewB,MAAMsB,EAAQrC,MAAM,CAAC,GAAK,UAAU,KAAO,MAAM,YAAc,QAAQ,KAAO,WAAW,SAAWf,EAAIuD,YAAY3B,SAAS,CAAC,MAAS5B,EAAIqD,KAAKC,KAAQ,KAAGtC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOuB,OAAOC,WAAqBzC,EAAIwD,KAAKxD,EAAIqD,KAAKC,KAAM,MAAOrC,EAAOuB,OAAOF,WAAWlC,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACN,EAAImB,GAAGnB,EAAIoB,GAAG+B,EAAO,aAAa,MAAK,KAAQ/C,EAAG,qBAAqB,CAACE,YAAY,aAAaS,MAAM,CAAC,MAAQ,YAAY6B,YAAY5C,EAAI6C,GAAG,CAAC,CAAChC,IAAI,UAAUiC,GAAG,SAASC,GACvwB,IAAII,EAASJ,EAAII,OACbC,EAAUL,EAAIK,QAClB,MAAO,CAAChD,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACW,MAAM,CAAC,IAAM,gBAAgB,CAACX,EAAG,IAAI,CAACE,YAAY,0BAA0BN,EAAImB,GAAG,iBAAiBf,EAAG,QAAQ,CAAC+B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOtC,EAAIqD,KAAKC,KAAY,QAAEf,WAAW,sBAAsBjC,YAAY,eAAewB,MAAMsB,EAAQrC,MAAM,CAAC,GAAK,cAAc,KAAO,OAAO,KAAO,UAAU,YAAc,QAAQ,SAAWf,EAAIuD,YAAY3B,SAAS,CAAC,MAAS5B,EAAIqD,KAAKC,KAAY,SAAGtC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOuB,OAAOC,WAAqBzC,EAAIwD,KAAKxD,EAAIqD,KAAKC,KAAM,UAAWrC,EAAOuB,OAAOF,WAAWlC,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACN,EAAImB,GAAGnB,EAAIoB,GAAG+B,EAAO,aAAa,MAAK,KAAQ/C,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACW,MAAM,CAAC,IAAM,YAAY,CAACX,EAAG,IAAI,CAACE,YAAY,wBAAwBN,EAAImB,GAAG,UAAUf,EAAG,WAAW,CAAC+B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOtC,EAAIqD,KAAY,QAAEd,WAAW,iBAAiBjC,YAAY,eAAeS,MAAM,CAAC,GAAK,UAAU,KAAO,GAAG,KAAO,KAAK,KAAO,KAAK,SAAWf,EAAIuD,YAAY3B,SAAS,CAAC,MAAS5B,EAAIqD,KAAY,SAAGrC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOuB,OAAOC,WAAqBzC,EAAIwD,KAAKxD,EAAIqD,KAAM,UAAWpC,EAAOuB,OAAOF,aAAalC,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,uBAAuBS,MAAM,CAAC,KAAO,SAAS,SAAWf,EAAIuD,YAAcP,IAAU,CAAChD,EAAImB,GAAG,eAAe,WAAW,QACr2CsC,EAAkB,CAAC,WAAa,IAAIzD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,8BAA8B,CAACN,EAAImB,GAAG,gBAAgB,WAAa,IAAInB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACE,YAAY,eAAe,CAACF,EAAG,MAAMA,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAImB,GAAG,YAAYf,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAImB,GAAG,UAAUf,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAImB,GAAG,aAAa,WAAa,IAAInB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,8BAA8B,CAACN,EAAImB,GAAG,gB,sECmS1rB,GACEiB,KAAM,gBACNsB,KAFF,WAGI,MAAO,CACLhB,YAAa,GACbW,KAAM,CACJC,KAAM,CACJlB,KAAM,GACNuB,MAAO,GACPC,IAAK,GACLC,QAAS,IAEXC,QAAS,IAEXP,YAAY,IAGhBQ,SAAU,OAAZ,OAAY,CAAZ,GACA,mCAEEC,MAAO,CACLxD,KADJ,WAEM,IAAN,OACmC,IAAzByD,EAAGzD,KAAKC,MAAMC,OAChBuD,EAAGV,YAAa,EAEhBU,EAAGV,YAAa,IAItBW,QA9BF,WA+BIjE,KAAKkE,WAEPC,QAAS,OAAX,OAAW,CAAX,kBACA,sCADA,IAEIlD,eAFJ,SAEA,GACMjB,KAAKoE,OAAOC,SAAS,oBAAqBxD,IAE5C6B,cALJ,WAMM1C,KAAKoE,OAAOC,SAAS,uBAAwBrE,KAAKyC,cAGpD,YATJ,WASA,yKACA,IACA,SAFA,SAGA,yBAHA,OAGA,EAHA,OAIA,gBACA,4DAEA,6CAPA,8CASIb,OAlBJ,SAkBA,OACM,IAAN,cACM5B,KAAKoE,OAAOC,SAAS,mBAAoB,CAA/C,wBAEI9C,SAtBJ,SAsBA,OACM,IAAN,cACMvB,KAAKoE,OAAOC,SAAS,mBAAoB,CAA/C,wBAEI5C,kBA1BJ,SA0BA,OACM,IAAN,yBACMzB,KAAKoE,OAAOC,SAAS,2BAA4B,CAAvD,2BC/WuV,I,wBCQnVC,EAAY,eACd,EACAxE,EACA0D,GACA,EACA,KACA,WACA,MAIa,aAAAc,E","file":"js/chunk-75bf17d0.79724e6d.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerOrder.vue?vue&type=style&index=0&id=1dfba9f1&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container py-5 cart\"},[_vm._m(0),_c('div',{staticClass:\"row d-flex justify-content-center\"},[(_vm.cart.carts.length !== 0)?_c('div',{staticClass:\"col-lg-10\"},[_c('div',{staticClass:\"table-responsive-sm\"},[_c('table',{staticClass:\"table mb-0\"},[_vm._m(1),_c('tbody',_vm._l((_vm.cart.carts),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_c('button',{staticClass:\"btn btn-outline-maple btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeCartItem(item.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])]),_c('td',{staticClass:\"align-middle\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \"),(item.coupon)?_c('div',{staticClass:\"text-success\"},[_vm._v(\" 已套用優惠券 \")]):_vm._e()]),_c('td',{staticClass:\"align-middle\"},[_c('div',{staticClass:\"input-group\"},[_c('button',{staticClass:\"btn btn-outline-moderate btn-sm d-none d-sm-block mr-2\",on:{\"click\":function($event){return _vm.minusQty(item.id, item.product.id, item.qty)}}},[_c('i',{staticClass:\"fas fa-minus\"})]),_c('select',{staticClass:\"select-text-center form-control border-moderate\",attrs:{\"id\":\"qtySelect\"},on:{\"change\":function($event){return _vm.updateQtyBySelect(item.id, item.product.id, $event)}}},[_c('option',{attrs:{\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(\" \"+_vm._s(item.qty)+\" \")]),_vm._l((10),function(number){return _c('option',{key:number,domProps:{\"value\":number}},[_vm._v(\" \"+_vm._s(number)+\" \")])})],2),_c('button',{staticClass:\"btn btn-outline-moderate btn-sm d-none d-sm-block ml-2\",on:{\"click\":function($event){return _vm.addQty(item.id, item.product.id, item.qty)}}},[_c('i',{staticClass:\"fas fa-plus\"})])])]),_c('td',{staticClass:\"align-middle text-right\",class:{ 'text-success': item.coupon }},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.final_total))+\" \")])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"3\"}},[_vm._v(\" 總金額 \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.cart.total))+\" \")])]),(_vm.cart.total !== _vm.cart.final_total)?_c('tr',[_c('td',{staticClass:\"text-right text-success\",attrs:{\"colspan\":\"3\"}},[_vm._v(\" 折扣價 \")]),_c('td',{staticClass:\"text-right text-success\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.cart.final_total))+\" \")])]):_vm._e()])])]),_c('div',{staticClass:\"input-group input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-maple\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addCouponCode}},[_vm._v(\" 套用優惠碼 \")])])])]):_c('div',{staticClass:\"col-lg-10\"},[_c('div',{staticClass:\"empty-cart text-center\"},[_c('p',{staticClass:\"mb-1\"},[_vm._v(\" 購物車沒有東西哦！快去逛逛吧！ \")]),_c('router-link',{staticClass:\"text-maple text-decoration-none\",attrs:{\"to\":\"/category\"}},[_vm._v(\" 進入商城 \")])],1)])])]),_c('div',{staticClass:\"container cart-form pb-5\"},[_vm._m(2),_c('div',{staticClass:\"row justify-content-center\"},[_c('ValidationObserver',{staticClass:\"col-lg-10\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar invalid = ref.invalid;\nreturn [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_c('ValidationProvider',{attrs:{\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"userEmail\"}},[_c('i',{staticClass:\"fas fa-envelope\"}),_vm._v(\" Email (*) \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"}],staticClass:\"form-control\",class:classes,attrs:{\"id\":\"userEmail\",\"name\":\"E-mail\",\"type\":\"email\",\"placeholder\":\"請輸入 Email\",\"disabled\":_vm.isDisabled},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])])]}}],null,true)}),_c('ValidationProvider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"userName\"}},[_c('i',{staticClass:\"fas fa-user\"}),_vm._v(\" 收件人姓名 (*) \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"}],staticClass:\"form-control\",class:classes,attrs:{\"id\":\"userName\",\"type\":\"text\",\"name\":\"Name\",\"placeholder\":\"輸入姓名\",\"disabled\":_vm.isDisabled},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])])]}}],null,true)}),_c('ValidationProvider',{staticClass:\"form-group\",attrs:{\"rules\":\"required|numeric\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"userTel\"}},[_c('i',{staticClass:\"fas fa-phone\"}),_vm._v(\" 收件人電話 (*) \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"}],staticClass:\"form-control\",class:classes,attrs:{\"id\":\"userTel\",\"type\":\"tel\",\"placeholder\":\"請輸入電話\",\"name\":\"Telphone\",\"disabled\":_vm.isDisabled},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])])]}}],null,true)}),_c('ValidationProvider',{staticClass:\"form-group\",attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"userAddress\"}},[_c('i',{staticClass:\"fas fa-map-marker-alt\"}),_vm._v(\" 收件人地址 (*) \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"}],staticClass:\"form-control\",class:classes,attrs:{\"id\":\"userAddress\",\"type\":\"text\",\"name\":\"Address\",\"placeholder\":\"請輸入地址\",\"disabled\":_vm.isDisabled},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])])]}}],null,true)}),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"comment\"}},[_c('i',{staticClass:\"fas fa-comment-dots\"}),_vm._v(\" 留言 \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"comment\",\"name\":\"\",\"cols\":\"30\",\"rows\":\"10\",\"disabled\":_vm.isDisabled},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-maple btn-lg\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isDisabled || invalid}},[_vm._v(\" 送出訂單 \")])])],1)]}}])})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-center\"},[_c('h2',{staticClass:\"font-weight-bold mb-4 pb-2\"},[_vm._v(\" 購物車內容 \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"thead-light\"},[_c('th'),_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\" 商品名稱 \")]),_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\" 數量 \")]),_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\" 小計 \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-center\"},[_c('h2',{staticClass:\"font-weight-bold mb-4 pb-2\"},[_vm._v(\" 購買資訊 \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"container py-5 cart\">\n      <div class=\"text-center\">\n        <h2 class=\"font-weight-bold mb-4 pb-2\">\n          購物車內容\n        </h2>\n      </div>\n      <div class=\"row d-flex justify-content-center\">\n        <div\n          v-if=\"cart.carts.length !== 0\"\n          class=\"col-lg-10\"\n        >\n          <div class=\"table-responsive-sm\">\n            <table class=\"table mb-0\">\n              <thead class=\"thead-light\">\n                <th />\n                <th class=\"text-nowrap\">\n                  商品名稱\n                </th>\n                <th class=\"text-nowrap\">\n                  數量\n                </th>\n                <th class=\"text-nowrap\">\n                  小計\n                </th>\n              </thead>\n              <tbody>\n                <tr\n                  v-for=\"item in cart.carts\"\n                  :key=\"item.id\"\n                >\n                  <td class=\"align-middle\">\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-outline-maple btn-sm\"\n                      @click=\"removeCartItem(item.id)\"\n                    >\n                      <i class=\"far fa-trash-alt\" />\n                    </button>\n                  </td>\n                  <td class=\"align-middle\">\n                    {{ item.product.title }}\n                    <div\n                      v-if=\"item.coupon\"\n                      class=\"text-success\"\n                    >\n                      已套用優惠券\n                    </div>\n                  </td>\n                  <td class=\"align-middle\">\n                    <div class=\"input-group\">\n                      <button\n                        class=\"btn btn-outline-moderate btn-sm d-none d-sm-block mr-2\"\n                        @click=\"minusQty(item.id, item.product.id, item.qty)\"\n                      >\n                        <i class=\"fas fa-minus\" />\n                      </button>\n                      <select\n                        id=\"qtySelect\"\n                        class=\"select-text-center form-control border-moderate\"\n                        @change=\"\n                          updateQtyBySelect(item.id, item.product.id, $event)\n                        \"\n                      >\n                        <option\n                          selected\n                          disabled\n                        >\n                          {{ item.qty }}\n                        </option>\n                        <option\n                          v-for=\"number in 10\"\n                          :key=\"number\"\n                          :value=\"number\"\n                        >\n                          {{ number }}\n                        </option>\n                      </select>\n                      <button\n                        class=\"btn btn-outline-moderate btn-sm d-none d-sm-block ml-2\"\n                        @click=\"addQty(item.id, item.product.id, item.qty)\"\n                      >\n                        <i class=\"fas fa-plus\" />\n                      </button>\n                    </div>\n                  </td>\n                  <td\n                    class=\"align-middle text-right\"\n                    :class=\"{ 'text-success': item.coupon }\"\n                  >\n                    {{ item.final_total | currency }}\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td\n                    colspan=\"3\"\n                    class=\"text-right\"\n                  >\n                    總金額\n                  </td>\n                  <td class=\"text-right\">\n                    {{ cart.total | currency }}\n                  </td>\n                </tr>\n                <tr v-if=\"cart.total !== cart.final_total\">\n                  <td\n                    colspan=\"3\"\n                    class=\"text-right text-success\"\n                  >\n                    折扣價\n                  </td>\n                  <td class=\"text-right text-success\">\n                    {{ cart.final_total | currency }}\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n          <div class=\"input-group input-group\">\n            <input\n              v-model=\"coupon_code\"\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"請輸入優惠碼\"\n            >\n            <div class=\"input-group-append\">\n              <button\n                class=\"btn btn-outline-maple\"\n                type=\"button\"\n                @click=\"addCouponCode\"\n              >\n                套用優惠碼\n              </button>\n            </div>\n          </div>\n        </div>\n        <div\n          v-else\n          class=\"col-lg-10\"\n        >\n          <div class=\"empty-cart text-center\">\n            <p class=\"mb-1\">\n              購物車沒有東西哦！快去逛逛吧！\n            </p>\n            <router-link\n              to=\"/category\"\n              class=\"text-maple text-decoration-none\"\n            >\n              進入商城\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"container cart-form pb-5\">\n      <div class=\"text-center\">\n        <h2 class=\"font-weight-bold mb-4 pb-2\">\n          購買資訊\n        </h2>\n      </div>\n      <div class=\"row justify-content-center\">\n        <!-- validation-observer 驗證整體表單 -->\n        <ValidationObserver\n          v-slot=\"{ invalid }\"\n          class=\"col-lg-10\"\n        >\n          <!-- 表單送出改為使用 form submit 的方法 -->\n          <form\n            @submit.prevent=\"createOrder\"\n          >\n            <ValidationProvider\n              v-slot=\"{ errors, classes }\"\n              rules=\"required|email\"\n            >\n              <div class=\"form-group\">\n                <!-- 輸入框 -->\n                <label for=\"userEmail\">\n                  <i class=\"fas fa-envelope\" />\n                  Email (*)\n                </label>\n                <input\n                  id=\"userEmail\"\n                  v-model=\"form.user.email\"\n                  name=\"E-mail\"\n                  type=\"email\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入 Email\"\n                  :class=\"classes\"\n                  :disabled=\"isDisabled\"\n                >\n                <!-- 錯誤訊息 -->\n                <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n              </div>\n            </ValidationProvider>\n\n            <ValidationProvider\n              v-slot=\"{ errors, classes }\"\n              rules=\"required\"\n            >\n              <div class=\"form-group\">\n                <label for=\"userName\">\n                  <i class=\"fas fa-user\" />\n                  收件人姓名 (*)\n                </label>\n                <input\n                  id=\"userName\"\n                  v-model=\"form.user.name\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  name=\"Name\"\n                  placeholder=\"輸入姓名\"\n                  :class=\"classes\"\n                  :disabled=\"isDisabled\"\n                >\n                <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n              </div>\n            </ValidationProvider>\n\n            <ValidationProvider\n              v-slot=\"{ errors, classes }\"\n              class=\"form-group\"\n              rules=\"required|numeric\"\n            >\n              <div class=\"form-group\">\n                <label for=\"userTel\">\n                  <i class=\"fas fa-phone\" />\n                  收件人電話 (*)\n                </label>\n                <input\n                  id=\"userTel\"\n                  v-model=\"form.user.tel\"\n                  type=\"tel\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入電話\"\n                  name=\"Telphone\"\n                  :class=\"classes\"\n                  :disabled=\"isDisabled\"\n                >\n                <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n              </div>\n            </ValidationProvider>\n\n            <ValidationProvider\n              v-slot=\"{ errors, classes }\"\n              class=\"form-group\"\n              rules=\"required\"\n            >\n              <div class=\"form-group\">\n                <label for=\"userAddress\">\n                  <i class=\"fas fa-map-marker-alt\" />\n                  收件人地址 (*)\n                </label>\n                <input\n                  id=\"userAddress\"\n                  v-model=\"form.user.address\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  name=\"Address\"\n                  placeholder=\"請輸入地址\"\n                  :class=\"classes\"\n                  :disabled=\"isDisabled\"\n                >\n                <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n              </div>\n            </ValidationProvider>\n\n            <div class=\"form-group\">\n              <label for=\"comment\">\n                <i class=\"fas fa-comment-dots\" />\n                留言\n              </label>\n              <textarea\n                id=\"comment\"\n                v-model=\"form.message\"\n                name\n                class=\"form-control\"\n                cols=\"30\"\n                rows=\"10\"\n                :disabled=\"isDisabled\"\n              />\n            </div>\n\n            <!-- 送出表單使用 @submit 的方法，如果驗證未通過則 disabled 該按鈕 -->\n            <div class=\"text-right\">\n              <button\n                type=\"submit\"\n                class=\"btn btn-maple btn-lg\"\n                :disabled=\"isDisabled || invalid\"\n              >\n                送出訂單\n              </button>\n            </div>\n          </form>\n        </ValidationObserver>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { apiCreateOrder } from '@/api';\n\nexport default {\n  name: 'CustomerOrder',\n  data() {\n    return {\n      coupon_code: '',\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      isDisabled: true,\n    };\n  },\n  computed: {\n    ...mapGetters('global', ['cart']),\n  },\n  watch: {\n    cart() {\n      const vm = this;\n      if (vm.cart.carts.length !== 0) {\n        vm.isDisabled = false;\n      } else {\n        vm.isDisabled = true;\n      }\n    },\n  },\n  created() {\n    this.getCart();\n  },\n  methods: {\n    ...mapActions('global', ['getCart']),\n    removeCartItem(id) {\n      this.$store.dispatch('global/removeCart', id);\n    },\n    addCouponCode() {\n      this.$store.dispatch('global/addCouponCode', this.coupon_code);\n    },\n    // Validate Before Submit\n    async createOrder() {\n      const vm = this;\n      const order = vm.form;\n      const response = await apiCreateOrder({ data: order });\n      if (response.data.success) {\n        vm.$router.push(`/customerCheckout/${response.data.orderId}`);\n      }\n      vm.$store.dispatch('global/updateLoading', false);\n    },\n    addQty(cid, pid, qty) {\n      const newQty = Number(qty) + 1;\n      this.$store.dispatch('global/updateQty', { cid, pid, newQty });\n    },\n    minusQty(cid, pid, qty) {\n      const newQty = Number(qty) - 1;\n      this.$store.dispatch('global/updateQty', { cid, pid, newQty });\n    },\n    updateQtyBySelect(cid, pid, $event) {\n      const newQty = Number($event.target.value);\n      this.$store.dispatch('global/updateQtyBySelect', { cid, pid, newQty });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.cart {\n  h2 {\n    display: inline-block;\n    font-weight: 600;\n    border-bottom: 3px solid #c1170c;\n  }\n  .empty-cart {\n    background-color: #ededed;\n    border-radius: 10px;\n    padding: 30px 0px;\n  }\n  .select-text-center {\n    width: 100px !important;\n    text-align: justify;\n    text-align-last: center;\n    border-radius: 0.2rem !important;\n    flex: none;\n  }\n}\n\n.cart-form {\n  h2 {\n    display: inline-block;\n    font-weight: 600;\n    border-bottom: 3px solid #c1170c;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerOrder.vue?vue&type=template&id=1dfba9f1&scoped=true&\"\nimport script from \"./CustomerOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomerOrder.vue?vue&type=style&index=0&id=1dfba9f1&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dfba9f1\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}