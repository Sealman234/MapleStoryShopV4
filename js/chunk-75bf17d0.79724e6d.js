(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75bf17d0"],{"25d8":function(t,e,s){"use strict";s("882f")},"882f":function(t,e,s){},eb70:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container py-5 cart"},[t._m(0),s("div",{staticClass:"row d-flex justify-content-center"},[0!==t.cart.carts.length?s("div",{staticClass:"col-lg-10"},[s("div",{staticClass:"table-responsive-sm"},[s("table",{staticClass:"table mb-0"},[t._m(1),s("tbody",t._l(t.cart.carts,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"align-middle"},[s("button",{staticClass:"btn btn-outline-maple btn-sm",attrs:{type:"button"},on:{click:function(s){return t.removeCartItem(e.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])]),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(e.product.title)+" "),e.coupon?s("div",{staticClass:"text-success"},[t._v(" 已套用優惠券 ")]):t._e()]),s("td",{staticClass:"align-middle"},[s("div",{staticClass:"input-group"},[s("button",{staticClass:"btn btn-outline-moderate btn-sm d-none d-sm-block mr-2",on:{click:function(s){return t.minusQty(e.id,e.product.id,e.qty)}}},[s("i",{staticClass:"fas fa-minus"})]),s("select",{staticClass:"select-text-center form-control border-moderate",attrs:{id:"qtySelect"},on:{change:function(s){return t.updateQtyBySelect(e.id,e.product.id,s)}}},[s("option",{attrs:{selected:"",disabled:""}},[t._v(" "+t._s(e.qty)+" ")]),t._l(10,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2),s("button",{staticClass:"btn btn-outline-moderate btn-sm d-none d-sm-block ml-2",on:{click:function(s){return t.addQty(e.id,e.product.id,e.qty)}}},[s("i",{staticClass:"fas fa-plus"})])])]),s("td",{staticClass:"align-middle text-right",class:{"text-success":e.coupon}},[t._v(" "+t._s(t._f("currency")(e.final_total))+" ")])])})),0),s("tfoot",[s("tr",[s("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v(" 總金額 ")]),s("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("currency")(t.cart.total))+" ")])]),t.cart.total!==t.cart.final_total?s("tr",[s("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v(" 折扣價 ")]),s("td",{staticClass:"text-right text-success"},[t._v(" "+t._s(t._f("currency")(t.cart.final_total))+" ")])]):t._e()])])]),s("div",{staticClass:"input-group input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon_code},on:{input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-maple",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v(" 套用優惠碼 ")])])])]):s("div",{staticClass:"col-lg-10"},[s("div",{staticClass:"empty-cart text-center"},[s("p",{staticClass:"mb-1"},[t._v(" 購物車沒有東西哦！快去逛逛吧！ ")]),s("router-link",{staticClass:"text-maple text-decoration-none",attrs:{to:"/category"}},[t._v(" 進入商城 ")])],1)])])]),s("div",{staticClass:"container cart-form pb-5"},[t._m(2),s("div",{staticClass:"row justify-content-center"},[s("ValidationObserver",{staticClass:"col-lg-10",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.invalid;return[s("form",{on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[s("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,r=e.classes;return[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"userEmail"}},[s("i",{staticClass:"fas fa-envelope"}),t._v(" Email (*) ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:r,attrs:{id:"userEmail",name:"E-mail",type:"email",placeholder:"請輸入 Email",disabled:t.isDisabled},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),s("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])])]}}],null,!0)}),s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,r=e.classes;return[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"userName"}},[s("i",{staticClass:"fas fa-user"}),t._v(" 收件人姓名 (*) ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",class:r,attrs:{id:"userName",type:"text",name:"Name",placeholder:"輸入姓名",disabled:t.isDisabled},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),s("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])])]}}],null,!0)}),s("ValidationProvider",{staticClass:"form-group",attrs:{rules:"required|numeric"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,r=e.classes;return[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"userTel"}},[s("i",{staticClass:"fas fa-phone"}),t._v(" 收件人電話 (*) ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",class:r,attrs:{id:"userTel",type:"tel",placeholder:"請輸入電話",name:"Telphone",disabled:t.isDisabled},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),s("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])])]}}],null,!0)}),s("ValidationProvider",{staticClass:"form-group",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,r=e.classes;return[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"userAddress"}},[s("i",{staticClass:"fas fa-map-marker-alt"}),t._v(" 收件人地址 (*) ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:r,attrs:{id:"userAddress",type:"text",name:"Address",placeholder:"請輸入地址",disabled:t.isDisabled},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),s("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])])]}}],null,!0)}),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"comment"}},[s("i",{staticClass:"fas fa-comment-dots"}),t._v(" 留言 ")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{id:"comment",name:"",cols:"30",rows:"10",disabled:t.isDisabled},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-maple btn-lg",attrs:{type:"submit",disabled:t.isDisabled||a}},[t._v(" 送出訂單 ")])])],1)]}}])})],1)])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("h2",{staticClass:"font-weight-bold mb-4 pb-2"},[t._v(" 購物車內容 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-light"},[s("th"),s("th",{staticClass:"text-nowrap"},[t._v(" 商品名稱 ")]),s("th",{staticClass:"text-nowrap"},[t._v(" 數量 ")]),s("th",{staticClass:"text-nowrap"},[t._v(" 小計 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("h2",{staticClass:"font-weight-bold mb-4 pb-2"},[t._v(" 購買資訊 ")])])}],i=s("1da1"),o=s("5530"),l=(s("a9e3"),s("96cf"),s("2f62")),n=s("d722"),c={name:"CustomerOrder",data:function(){return{coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""},isDisabled:!0}},computed:Object(o["a"])({},Object(l["c"])("global",["cart"])),watch:{cart:function(){var t=this;0!==t.cart.carts.length?t.isDisabled=!1:t.isDisabled=!0}},created:function(){this.getCart()},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])("global",["getCart"])),{},{removeCartItem:function(t){this.$store.dispatch("global/removeCart",t)},addCouponCode:function(){this.$store.dispatch("global/addCouponCode",this.coupon_code)},createOrder:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t,a=s.form,e.next=4,Object(n["m"])({data:a});case 4:r=e.sent,r.data.success&&s.$router.push("/customerCheckout/".concat(r.data.orderId)),s.$store.dispatch("global/updateLoading",!1);case 7:case"end":return e.stop()}}),e)})))()},addQty:function(t,e,s){var a=Number(s)+1;this.$store.dispatch("global/updateQty",{cid:t,pid:e,newQty:a})},minusQty:function(t,e,s){var a=Number(s)-1;this.$store.dispatch("global/updateQty",{cid:t,pid:e,newQty:a})},updateQtyBySelect:function(t,e,s){var a=Number(s.target.value);this.$store.dispatch("global/updateQtyBySelect",{cid:t,pid:e,newQty:a})}})},d=c,u=(s("25d8"),s("2877")),m=Object(u["a"])(d,a,r,!1,null,"1dfba9f1",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-75bf17d0.79724e6d.js.map